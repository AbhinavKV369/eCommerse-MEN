<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Truck Haulers Order Summary</title>

    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet" />
</head>

<body style="background-color: #f8f9fa;">

    <div class="container py-5">
        <div class="bg-white p-4 rounded shadow" style="max-width: 1000px; margin: auto;">

            <h2 class="text-center mb-4 text-success">
                <i class="fas fa-check-circle me-2"></i>Order Placed successfully
            </h2>

            <div class="row mb-2">
                <div class="col-md-8">
                    <h4 class="mb-3">Order Details</h4>
                    <div class="list-group">

                    <% items.forEach(item=> { %>
                        <div class="list-group-item d-flex justify-content-between align-items-center">
                            <div>
                                <h5 style="margin-bottom: 5px;">
                                    <%= item.product.name %>
                                </h5>
                                <p style="margin-bottom: 0;">Quantity: <%= item.quantity %>
                                </p>
                            </div>
                            <span class="badge bg-primary p-2" style="font-size: 16px;">
                                Rs. <%= (item.product.price * item.quantity * 1.3) %>
                            </span>
                        </div>
                        <% }) %>


                    </div>
                </div>

                <div class="col-md-4">
                    <h5 class="card-title">Summary</h5>
                    <ul class="list-unstyled" style="font-size: 16px;">
                        </li>
                        <li class="d-flex justify-content-between">
                            <span>Shipping</span>
                            <span>Free</span>
                        </li>
                        <hr>
                        <li class="d-flex justify-content-between fw-bold">
                            <strong>Total</strong>
                            <strong>Rs. <%=items.reduce((sum,item)=>(sum + item.product.price * item.quantity) +
                                (item.product.price * 0.3 * item.quantity),0) %></strong>
                        </li>
                    </ul>

                    <h4 class="mt-4">Shipping Information</h4>
                    <p><strong>Recipient:</strong> <%= user.name %></p>
                    <strong>Address:</strong> 
                     <%= user.address.street%>,<%=user.address.city%>,<%=user.address.district%>,<%=user.address.state%>,<%=user.address.pincode%>
                   
            <p><strong>Estimated Delivery:</strong>
                <%= new Date(Date.now() + 3 * 24 * 60 * 60 * 1000).toDateString() %>
            </p>

                </div>
            </div>

            <h4 class="alert alert-success p-3 mt-4 text-center">Thanks for trusting us - Truck Haulers</h4>

            <div class="text-center">
                <a href="/" class="btn btn-success" style="padding: 10px 30px;">Back to Home</a>
            </div>

        </div>
    </div>

    <!-- Bootstrap Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>